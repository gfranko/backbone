(function(){var a=Backbone.View=function(a){this.cid=_.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,c=["model","collection","el","id","attributes","className","tagName"];_.extend(a.prototype,Backbone.Events,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},dispose:function(){return this.undelegateEvents(),this.model&&this.model.off(null,null,this),this.collection&&this.collection.off(null,null,this),this},remove:function(){return this.dispose(),this.$el.remove(),this},make:function(a,b,c){var d=document.createElement(a);return b&&Backbone.$(d).attr(b),c!=null&&Backbone.$(d).html(c),d},setElement:function(a,b){return this.$el&&this.undelegateEvents(),this.$el=a instanceof Backbone.$?a:Backbone.$(a),this.el=this.$el[0],b!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=_.result(this,"events")))return;this.undelegateEvents();for(var c in a){var d=a[c];_.isFunction(d)||(d=this[a[c]]);if(!d)throw new Error('Method "'+a[c]+'" does not exist');var e=c.match(b),f=e[1],g=e[2];d=_.bind(d,this),f+=".delegateEvents"+this.cid,g===""?this.$el.bind(f,d):this.$el.delegate(g,f,d)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=_.extend({},this.options,a));for(var b=0,d=c.length;b<d;b++){var e=c[b];a[e]&&(this[e]=a[e])}this.options=a},_ensureElement:function(){if(!this.el){var a=_.extend({},_.result(this,"attributes"));this.id&&(a.id=_.result(this,"id")),this.className&&(a["class"]=_.result(this,"className")),this.setElement(this.make(_.result(this,"tagName"),a),!1)}else this.setElement(this.el,!1)}}),a.extend=Backbone.extend}).call(this);